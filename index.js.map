{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchImages = searchText => {\n  const searchParams = new URLSearchParams({\n    key: '48213456-ebc0266b477643e50c8486310',\n    q: searchText.trim(),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams.toString()}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.total === 0) {\n        return []\n      }\n      return data.hits\n    })\n};","import iziToast from 'izitoast';\n\nconst getGalleryItemTemplate = ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n  return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=${largeImageURL}>\n      <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n      <ul class=\"gallery-item-info\">\n        <li>\n          <p>Likes</p>\n          <p>${likes}</p>\n        </li>\n        <li>\n          <p>Views</p>\n          <p>${views}</p>\n        </li>\n        <li>\n          <p>Comments</p>\n          <p>${comments}</p>\n        </li>\n        <li>\n          <p>Downloads</p>\n          <p>${downloads}</p>\n        </li>\n      </ul>\n    </a>\n  </li>`;\n}\n\nexport const renderGallery = (container, images) => {\n  container.innerHTML = images\n    .map((image) => {\n      return getGalleryItemTemplate(image)\n    })\n    .join(\"\");\n}\n\nexport const renderError = (message) => {\n  iziToast.error({\n    message,\n    position: 'topRight',\n  });\n}","import SimpleLightbox from 'simplelightbox';\nimport { fetchImages } from './js/pixabay-api';\nimport { renderError, renderGallery } from './js/render-functions';\n\nconst searchFormElement = document.querySelector('.search-form');\nconst loaderElement = document.querySelector('.loader');\nconst galleryContainer = document.querySelector('.gallery');\n\nconst simpleLightboxInstance = new SimpleLightbox('.gallery a.gallery-link', {\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n});\n\nconst searchHandler = (event) => {\n  event.preventDefault();\n  loaderElement.classList.remove('hidden');\n  renderGallery(galleryContainer, []);\n\n  fetchImages(event.target.elements['search'].value)\n    .then(images => {\n      if(!images.length) {\n        renderError('Sorry, there are no images matching your search query. Please try again!')\n      } else {\n        renderGallery(galleryContainer, images);\n        simpleLightboxInstance.refresh();\n      }\n    })\n    .catch(() => {\n      renderError('Sorry, something went wrong. Please try again later!');\n    })\n    .finally(() => {\n      searchFormElement.reset();\n      loaderElement.classList.add('hidden')\n    });\n}\n\nsearchFormElement.addEventListener('submit', searchHandler);"],"names":["fetchImages","searchText","searchParams","response","data","getGalleryItemTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","container","images","image","renderError","message","iziToast","searchFormElement","loaderElement","galleryContainer","simpleLightboxInstance","SimpleLightbox","searchHandler","event"],"mappings":"6vBAAO,MAAMA,EAAcC,GAAc,CACvC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EAAW,KAAM,EACpB,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,EAAa,SAAQ,CAAE,EAAE,EAC/D,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACAA,EAAK,QAAU,EACV,CAAE,EAEJA,EAAK,IACb,CACL,ECpBMC,EAAyB,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACpF;AAAA,mCAC0BL,CAAa;AAAA,wCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,eAInDC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,eAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,SAOXC,EAAgB,CAACC,EAAWC,IAAW,CAClDD,EAAU,UAAYC,EACnB,IAAKC,GACGX,EAAuBW,CAAK,CACpC,EACA,KAAK,EAAE,CACZ,EAEaC,EAAeC,GAAY,CACtCC,EAAS,MAAM,CACb,QAAAD,EACA,SAAU,UACd,CAAG,CACH,ECrCME,EAAoB,SAAS,cAAc,cAAc,EACzDC,EAAgB,SAAS,cAAc,SAAS,EAChDC,EAAmB,SAAS,cAAc,UAAU,EAEpDC,EAAyB,IAAIC,EAAe,0BAA2B,CAC3E,aAAc,IACd,eAAgB,EAClB,CAAC,EAEKC,EAAiBC,GAAU,CAC/BA,EAAM,eAAc,EACpBL,EAAc,UAAU,OAAO,QAAQ,EACvCR,EAAcS,EAAkB,CAAA,CAAE,EAElCtB,EAAY0B,EAAM,OAAO,SAAS,OAAU,KAAK,EAC9C,KAAKX,GAAU,CACVA,EAAO,QAGTF,EAAcS,EAAkBP,CAAM,EACtCQ,EAAuB,QAAO,GAH9BN,EAAY,0EAA0E,CAK9F,CAAK,EACA,MAAM,IAAM,CACXA,EAAY,sDAAsD,CACxE,CAAK,EACA,QAAQ,IAAM,CACbG,EAAkB,MAAK,EACvBC,EAAc,UAAU,IAAI,QAAQ,CAC1C,CAAK,CACL,EAEAD,EAAkB,iBAAiB,SAAUK,CAAa"}